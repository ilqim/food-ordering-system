<!-- src/app/components/cart/cart.component.html -->
<div class="cart-container">
  <div class="page-header">
    <h1>ğŸ›’ Sepetim</h1>
    <button class="continue-shopping-btn" (click)="continueShopping()">
      â† AlÄ±ÅŸveriÅŸe Devam Et
    </button>
  </div>

  <div class="cart-content" *ngIf="cart.items.length > 0; else emptyCart">
    <div class="cart-layout">
      <!-- Sol taraf - Sepet Ä°Ã§eriÄŸi -->
      <div class="cart-items-section">
        <div class="section-header">
          <h2>Sepetinizdeki ÃœrÃ¼nler</h2>
          <button class="clear-cart-btn" (click)="clearCart()">Sepeti Temizle</button>
        </div>

        <div class="restaurant-info" *ngIf="cart.restaurantName">
          <h3>ğŸ“ {{ cart.restaurantName }}</h3>
        </div>

        <div class="cart-items">
          <div class="cart-item" *ngFor="let item of cart.items">
            <div class="item-image">
              <img [src]="item.meal.image || '/assets/default-meal.jpg'" [alt]="item.meal.name" />
            </div>
            
            <div class="item-details">
              <h4>{{ item.meal.name }}</h4>
              <p class="item-description">{{ item.meal.description }}</p>
              <div class="item-price">â‚º{{ item.meal.price }} / adet</div>
            </div>
            
            <div class="item-controls">
              <div class="quantity-controls">
                <button 
                  class="qty-btn"
                  (click)="updateQuantity(item.meal.id, item.quantity - 1)"
                >-</button>
                <span class="quantity">{{ item.quantity }}</span>
                <button 
                  class="qty-btn"
                  (click)="updateQuantity(item.meal.id, item.quantity + 1)"
                >+</button>
              </div>
              
              <div class="item-total">â‚º{{ item.meal.price * item.quantity }}</div>
              
              <button 
                class="remove-btn"
                (click)="removeItem(item.meal.id)"
                title="Sepetten Ã‡Ä±kar"
              >ğŸ—‘ï¸</button>
            </div>
          </div>
        </div>
      </div>

      <!-- SaÄŸ taraf - SipariÅŸ Formu -->
      <div class="order-form-section">
        <div class="order-summary">
          <h3>SipariÅŸ Ã–zeti</h3>
          <div class="summary-line">
            <span>Toplam ÃœrÃ¼n:</span>
            <span>{{ cart.items.reduce((total, item) => total + item.quantity, 0) }} adet</span>
          </div>
          <div class="summary-line total">
            <span>Toplam Tutar:</span>
            <span>â‚º{{ cart.totalPrice }}</span>
          </div>
        </div>

        <form class="order-form" (ngSubmit)="placeOrder()">
          <h3>Teslimat Bilgileri</h3>
          
          <div class="form-group">
            <label for="address">Teslimat Adresi *</label>
            <textarea
              id="address"
              [(ngModel)]="address"
              name="address"
              placeholder="Tam adresinizi yazÄ±n..."
              required
              rows="3"
            ></textarea>
          </div>

          <div class="form-group">
            <label for="phone">Telefon *</label>
            <input
              type="tel"
              id="phone"
              [(ngModel)]="phone"
              name="phone"
              placeholder="05XX XXX XX XX"
              required
            />
          </div>

          <div class="form-group">
            <label for="notes">SipariÅŸ Notu (Opsiyonel)</label>
            <textarea
              id="notes"
              [(ngModel)]="notes"
              name="notes"
              placeholder="Ã–zel istekleriniz..."
              rows="2"
            ></textarea>
          </div>

          <div class="form-group">
            <label>Ã–deme YÃ¶ntemi</label>
            <div class="payment-options">
              <label class="payment-option">
                <input
                  type="radio"
                  name="paymentType"
                  value="cash"
                  [(ngModel)]="paymentType"
                />
                <span>ğŸ’µ Nakit</span>
              </label>
              <label class="payment-option">
                <input
                  type="radio"
                  name="paymentType"
                  value="card"
                  [(ngModel)]="paymentType"
                />
                <span>ğŸ’³ Kart</span>
              </label>
            </div>
          </div>

          <button 
            type="submit" 
            class="place-order-btn"
            [disabled]="isPlacingOrder"
          >
            <span *ngIf="!isPlacingOrder">SipariÅŸ Ver - â‚º{{ cart.totalPrice }}</span>
            <span *ngIf="isPlacingOrder">SipariÅŸ Veriliyor...</span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <ng-template #emptyCart>
    <div class="empty-cart">
      <div class="empty-cart-content">
        <div class="empty-cart-icon">ğŸ›’</div>
        <h2>Sepetiniz BoÅŸ</h2>
        <p>HenÃ¼z sepetinizde Ã¼rÃ¼n bulunmuyor. Lezzetli yemekleri keÅŸfetmek iÃ§in alÄ±ÅŸveriÅŸe baÅŸlayÄ±n!</p>
        <button class="start-shopping-btn" (click)="continueShopping()">
          AlÄ±ÅŸveriÅŸe BaÅŸla
        </button>
      </div>
    </div>
  </ng-template>
</div>
<div class="home-container">
  <!-- Header -->
  <div class="home-header">
    <div class="header-content">
      <div class="brand">
        <h1>🍽️ Yemek Siparişi</h1>
        <p>Lezzetli yemekler kapınızda!</p>
      </div>
      
      <div class="user-actions">
        <span class="welcome">Hoş geldin, {{ currentUser?.username }}!</span>
        <button class="btn-outline" (click)="goToOrders()">
          📋 Siparişlerim
        </button>
        <button class="btn-cart" (click)="goToCart()">
          🛒 Sepet
        </button>
        <button class="btn-secondary" (click)="logout()">
          Çıkış
        </button>
      </div>
    </div>
  </div>

  <!-- Filters -->
  <div class="filters-section">
    <div class="filters-container">
      <div class="search-box">
        <input 
          type="text" 
          placeholder="Yemek ara..." 
          [(ngModel)]="searchTerm"
          (ngModelChange)="onSearchChange()"
          class="search-input">
        <span class="search-icon">🔍</span>
      </div>

      <div class="filter-group">
        <select 
          [(ngModel)]="selectedRestaurant" 
          (ngModelChange)="onRestaurantChange()"
          class="filter-select">
          <option value="">Tüm Restoranlar</option>
          <option *ngFor="let restaurant of restaurants" [value]="restaurant.id">
            {{ restaurant.username }}
          </option>
        </select>
      </div>

      <div class="filter-group">
        <select 
          [(ngModel)]="selectedCategory" 
          (ngModelChange)="onCategoryChange()"
          class="filter-select">
          <option value="">Tüm Kategoriler</option>
          <option *ngFor="let category of categories" [value]="category">
            {{ category }}
          </option>
        </select>
      </div>

      <div class="results-count">
        {{ filteredMeals.length }} yemek bulundu
      </div>
    </div>
  </div>

  <!-- Meals Grid -->
  <div class="meals-section">
    <div class="meals-container">
      <div *ngIf="filteredMeals.length === 0" class="empty-state">
        <div class="empty-icon">🍽️</div>
        <h3>Aradığınız kriterlere uygun yemek bulunamadı</h3>
        <p>Farklı arama terimleri veya filtreler deneyebilirsiniz.</p>
        <button class="btn-primary" (click)="searchTerm = ''; selectedRestaurant = ''; selectedCategory = ''; filterMeals()">
          Filtreleri Temizle
        </button>
      </div>

      <div class="meals-grid" *ngIf="filteredMeals.length > 0">
        <app-meal-card 
          *ngFor="let meal of filteredMeals" 
          [meal]="meal"
          [restaurantName]="getRestaurantName(meal.restaurantId)"
          (addToCart)="addToCart($event)">
        </app-meal-card>
      </div>
    </div>
  </div>

  <!-- Featured Categories -->
  <div class="categories-section" *ngIf="searchTerm === '' && selectedRestaurant === '' && selectedCategory === ''">
    <div class="categories-container">
      <h2>Kategoriler</h2>
      <div class="categories-grid">
        <div 
          *ngFor="let category of categories" 
          class="category-card"
          (click)="selectedCategory = category; onCategoryChange()">
          <div class="category-icon">
            <span *ngIf="category === 'Hamburger'">🍔</span>
            <span *ngIf="category === 'Pizza'">🍕</span>
            <span *ngIf="category === 'Türk Mutfağı'">🥙</span>
            <span *ngIf="category === 'İtalyan'">🍝</span>
            <span *ngIf="category === 'Çin Mutfağı'">🥡</span>
            <span *ngIf="category === 'Tatlı'">🍰</span>
            <span *ngIf="category === 'İçecek'">🥤</span>
          </div>
          <h4>{{ category }}</h4>
        </div>
      </div>
    </div>
  </div>
</div>
